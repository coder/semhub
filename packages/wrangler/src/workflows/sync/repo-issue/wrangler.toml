name = "semhub-sync-repo-cron-dev"
main = "./cron.ts"
compatibility_date = "2024-10-22"       # keep in sync with @cloudflare/workers-types
compatibility_flags = ["nodejs_compat"]

[observability]
enabled = true
head_sampling_rate = 1

[[workflows]]
name = "semhub-sync-repo-cron-workflow-dev"
binding = "SYNC_REPO_CRON_WORKFLOW"
class_name = "SyncWorkflow"

[[services]]
binding = "SYNC_REPO_EMBEDDING_WORKFLOW"
service = "semhub-sync-repo-embedding-dev"

# Production environment
[env.prod]
name = "semhub-sync-repo-cron-prod"

[[env.prod.workflows]]
name = "semhub-sync-repo-cron-workflow-prod"
binding = "SYNC_REPO_CRON_WORKFLOW"
class_name = "SyncWorkflow"

[[env.prod.services]]
binding = "SYNC_REPO_EMBEDDING_WORKFLOW"
service = "semhub-sync-repo-embedding-prod"
